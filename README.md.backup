# ğŸ“ Spinoza Secours HF

**Projet :** Assistant philosophique Spinoza - Mistral 7B + LoRA  
**Backend :** FastAPI + Colab + ngrok  
**Frontend :** HTML/JS vanilla

---

## ğŸ“ Structure du Projet

```
Spinoza_Secours_HF/
â”œâ”€â”€ Backend/              # Serveur API (FastAPI, ngrok)
â”‚   â”œâ”€â”€ RAG_Spinoza_secours.ipynb    # Notebook Colab principal
â”‚   â”œâ”€â”€ colab_spinoza_secours.ipynb  # Version alternative
â”‚   â””â”€â”€ index_spinoza.html            # Frontend HTML
â”‚
â”œâ”€â”€ ML/                   # PrÃ©paration du modÃ¨le (prompts, tests, calibration)
â”‚   â”œâ”€â”€ prompt_systeme_hybride.py    # Prompt systÃ¨me optimisÃ© (~250 tokens)
â”‚   â”œâ”€â”€ test_prompt_systeme.py       # Tests du prompt
â”‚   â”œâ”€â”€ calibrate_evaluator.py       # Calibration de l'Ã©valuateur
â”‚   â””â”€â”€ dialogue-reel-1.txt          # Dialogue rÃ©el pour calibration
â”‚
â””â”€â”€ docs/                 # Documentation
    â”œâ”€â”€ tutos/            # Guides pas Ã  pas
    â”œâ”€â”€ notes/            # Notes rapides
    â”œâ”€â”€ references/       # RÃ©fÃ©rences techniques
    â”œâ”€â”€ analyses/         # Analyses dÃ©taillÃ©es
    â”œâ”€â”€ tests/            # Documentation des tests
    â”œâ”€â”€ supports/         # Support technique
    â””â”€â”€ logs/             # Logs et traces
```

---

## ğŸš€ Quick Start

### 1. Backend (Serveur API)

1. **Ouvrir** `Backend/RAG_Spinoza_secours.ipynb` dans Google Colab
2. **Configurer les secrets** Colab :
   - `ngrok` : Token ngrok
   - `HuggingFaceToken` : Token Hugging Face
   - `COLAB_GITHUB_TOKEN` : Token GitHub
3. **ExÃ©cuter les cellules** dans l'ordre
4. **RÃ©cupÃ©rer l'URL ngrok** gÃ©nÃ©rÃ©e

### 2. Frontend

1. **Mettre Ã  jour** l'URL dans `Backend/index_spinoza.html` (ligne ~106)
   ```javascript
   const API_BASE_URL = 'https://votre-url-ngrok.ngrok-free.dev';
   ```
2. **Ouvrir** `Backend/index_spinoza.html` dans un navigateur

---

## ğŸ“š Documentation

- **README Backend :** `Backend/README.md`
- **README ML :** `ML/README.md`
- **Documentation complÃ¨te :** `docs/README.md`
- **Tutos :** `docs/tutos/`

---

## ğŸ”§ DÃ©veloppement

### PrÃ©parer un Nouveau Prompt

1. **Modifier** `ML/prompt_systeme_hybride.py`
2. **Tester** avec `ML/test_prompt_systeme.py`
3. **IntÃ©grer** dans `Backend/RAG_Spinoza_secours.ipynb`

### Calibrer l'Ã‰valuateur

1. **PrÃ©parer** des dialogues rÃ©els dans `ML/`
2. **Lancer** `ML/calibrate_evaluator.py` avec l'URL ngrok
3. **Ajuster** les prompts selon les rÃ©sultats

---

## ğŸ¯ Endpoints API

- `GET /health` - Health check
- `GET /init` - Initialiser conversation
- `POST /chat` - Envoyer message
- `POST /evaluate` - Ã‰valuer dialogue complet (MaÃ¯euthon)

---

## ğŸ“ Structure DÃ©taillÃ©e

### Backend/

Fichiers qui font tourner le serveur :
- Notebooks Colab avec FastAPI + ngrok
- Frontend HTML/JS

### ML/

Tout ce qui concerne la prÃ©paration du modÃ¨le :
- Prompts systÃ¨me
- Tests de prompts
- Calibration de l'Ã©valuateur
- Dialogues de rÃ©fÃ©rence

### docs/

Documentation organisÃ©e par catÃ©gories :
- `tutos/` - Guides pas Ã  pas
- `notes/` - Notes rapides
- `references/` - RÃ©fÃ©rences techniques
- `analyses/` - Analyses dÃ©taillÃ©es
- `tests/` - Documentation des tests
- `supports/` - Support technique
- `logs/` - Logs et traces

---

**DerniÃ¨re mise Ã  jour :** 21 novembre 2025

